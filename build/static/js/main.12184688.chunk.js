(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{118:function(e,t,n){},119:function(e,t,n){"use strict";n.r(t);var c=n(0),i=n(1),o=n.n(i),s=n(51),a=n.n(s),r=(n(59),n(52)),l=n(3),d=n(17),h=n.n(d),j=n(18),u=n.n(j),b=n(53),O=n.n(b),m=(n(113),n(114),n(115),n(116),n(117),function(e,t){var n="na-rce-"+e,c=Object(i.useState)((function(){var e=localStorage.getItem(n);return null!=e?JSON.parse(e):"function"===typeof t?t():t})),o=Object(l.a)(c,2),s=o[0],a=o[1];return Object(i.useEffect)((function(){localStorage.setItem(n,JSON.stringify(s))}),[n,s]),[s,a]}),g=function(e){var t=Object(i.useState)(""),n=Object(l.a)(t,2),o=n[0],s=n[1],a=e.userCode,r=e.setJoinedSessionCode;return Object(c.jsxs)("div",{className:"modal-box",children:[Object(c.jsx)("button",{className:"nav-btn",onClick:function(){document.getElementsByClassName("modal-bg")[0].id="hidden"},children:Object(c.jsx)("h2",{children:"CLOSE"})}),Object(c.jsx)("h2",{className:"modal-title",children:"YOUR SESSION:"}),Object(c.jsxs)("div",{className:"modal-current-session",children:[Object(c.jsxs)("h3",{children:["Current session id is ",a]}),Object(c.jsx)("button",{className:"nav-btn",onClick:function(){navigator.clipboard.writeText(a)},children:Object(c.jsx)("h3",{children:"(COPY)"})})]}),Object(c.jsx)("h2",{className:"modal-new-session",children:"JOIN A SESSION?"}),Object(c.jsxs)("div",{className:"modal-current-session",children:[Object(c.jsx)("input",{id:"modal-session-input",placeholder:"Enter a session id",onChange:function(e){s(e.target.value)}}),Object(c.jsx)("button",{className:"nav-btn",onClick:function(){r(o)},children:Object(c.jsx)("h3",{children:"(JOIN)"})})]})]})},p=(n.p,n(118),["python","c_cpp","javascript"]),f=O()("http://13.126.57.93"),x={javascript:"js",c_cpp:"cpp",python:"py"},v={javascript:"console.log('hello rce')",c_cpp:'#include <iostream>\n\nint main() {\n\tstd::cout << "hello rce";\n\treturn 0;\n}',python:"print('hello rce')"},N=function(){var e=m("userCode",""),t=Object(l.a)(e,2),n=t[0],o=t[1],s=m("mode","python"),a=Object(l.a)(s,2),d=a[0],j=a[1],b=m("code",v[d]),O=Object(l.a)(b,2),N=O[0],S=O[1],C=m("input",""),w=Object(l.a)(C,2),y=w[0],I=w[1],J=m("joinedSessionCode",""),E=Object(l.a)(J,2),k=E[0],F=E[1],B=Object(i.useState)(""),D=Object(l.a)(B,2),M=D[0],L=D[1];Object(i.useEffect)((function(){var e=new Date,t=JSON.parse(localStorage.getItem("na-rce-storeTime"));Math.ceil(Math.abs(e-t)/864e5)>1&&(o(""),F(""),u.a.get("http://13.126.57.93/code").then((function(e){var t=e.data;o(t),f.emit("hostSession",{channelID:t})})).catch((function(e){return console.log("error",e)})),localStorage.setItem("na-rce-storeTime",JSON.stringify((new Date).getTime()))),""===n&&u.a.get("http://13.126.57.93/code").then((function(e){var t=e.data;o(t),f.emit("hostSession",{channelID:t})})).catch((function(e){return console.log("error",e)}))}),[]),Object(i.useEffect)((function(){console.log(k),f.emit("joinSession",{channelID:k})}),[k]),Object(i.useEffect)((function(){k||(f.emit("realtime",{channelID:n,mode:d,code:N,input:y,output:M}),f.on("initialLoad",(function(){f.emit("realtime",{channelID:n,mode:d,code:N,input:y,output:M})})))}),[N,M,d,y,n,k]),Object(i.useEffect)((function(){k&&f.on("realReceive",(function(e){j(e.mode),I(e.input),L(e.output),S(e.code)}))}),[k]);return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"modal-bg",id:"hidden",children:Object(c.jsx)(g,{userCode:n,setJoinedSessionCode:F})}),Object(c.jsxs)("div",{className:"nav",children:[Object(c.jsxs)("h1",{id:"brand",children:[" ",">codeBox"," ",""!==k?"joined: "+k:""]}),Object(c.jsxs)("div",{id:"navigation",children:[""!==k?Object(c.jsx)("button",{className:"nav-btn",onClick:function(){f.close(),F(""),I(""),L(""),S(v[d]),window.location.reload()},children:Object(c.jsx)("h2",{children:"disconnect"})}):Object(c.jsx)(c.Fragment,{}),Object(c.jsx)("button",{className:"nav-btn",onClick:function(){document.getElementsByClassName("modal-bg")[0].id=""},children:Object(c.jsx)("h2",{children:"session"})}),Object(c.jsx)("button",{className:"nav-btn",onClick:function(){return window.open("https://github.com/nafees87n/remote-code-executor/blob/main/docs/DOCS.md")},children:Object(c.jsx)("h2",{children:"docs"})}),Object(c.jsx)("button",{className:"nav-btn",onClick:function(){return window.open("https://github.com/nafees87n/remote-code-executor")},children:Object(c.jsx)("h2",{children:"github"})})]})]}),Object(c.jsxs)("div",{className:"code-region",children:[Object(c.jsxs)("div",{id:"code-header",children:[Object(c.jsx)("h2",{className:"region-title",children:"code"}),Object(c.jsx)("h2",{className:"region-title-divider",children:"|"}),""===k?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("select",{id:"language-select",defaultValue:d,value:d,onChange:function(e){S(v[e.target.value]),j(e.target.value)},children:p.map((function(e){return Object(c.jsx)("option",{value:e,children:e.toUpperCase()},e)}))}),Object(c.jsx)("h2",{className:"region-title-divider",children:"|"}),Object(c.jsx)("button",{id:"run-btn",onClick:function(){u.a.post("http://13.126.57.93/code",{key:n,language:x[d],input:y,code:N}).then((function(e){var t=e.data;L(t.toString())}))},children:"RUN"})," "]}):Object(c.jsx)(c.Fragment,{children:Object(c.jsx)("h2",{className:"region-title",children:d})})]}),Object(c.jsx)("div",{className:"general-editor",children:Object(c.jsx)(h.a,Object(r.a)({mode:d,theme:"cobalt",height:"100%",width:"2fr",value:N,fontSize:18,showPrintMargin:!1,onChange:function(e){return S(e)},name:"code_editor",setOptions:{enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0},highlightActiveLine:""===k,readOnly:""!==k},"setOptions",{fontFamily:"JetBrains Mono"}))})]}),Object(c.jsxs)("div",{className:"input-region",children:[Object(c.jsx)("div",{id:"code-header",children:Object(c.jsx)("h2",{className:"region-title",children:"input"})}),Object(c.jsx)("div",{className:"general-editor",children:Object(c.jsx)(h.a,{mode:"text",theme:"cobalt",height:"100%",width:"1fr",value:y,name:"input_editor",onChange:function(e){return I(e)},fontSize:18,showPrintMargin:!1,showGutter:!1,highlightActiveLine:""===k,readOnly:""!==k,setOptions:{fontFamily:"JetBrains Mono"}})})]}),Object(c.jsxs)("div",{className:"output-region",children:[Object(c.jsx)("div",{id:"code-header",children:Object(c.jsx)("h2",{className:"region-title",children:"output"})}),Object(c.jsx)("div",{className:"general-editor",children:Object(c.jsx)(h.a,{mode:"text",theme:"cobalt",height:"100%",width:"1fr",value:M,name:"output_editor",fontSize:18,showPrintMargin:!1,showGutter:!1,highlightActiveLine:!1,readOnly:!0,setOptions:{fontFamily:"JetBrains Mono"}})})]})]})},S=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,120)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,o=t.getLCP,s=t.getTTFB;n(e),c(e),i(e),o(e),s(e)}))};a.a.render(Object(c.jsx)(o.a.StrictMode,{children:Object(c.jsx)(N,{})}),document.getElementById("root")),S()},59:function(e,t,n){}},[[119,1,2]]]);
//# sourceMappingURL=main.12184688.chunk.js.map